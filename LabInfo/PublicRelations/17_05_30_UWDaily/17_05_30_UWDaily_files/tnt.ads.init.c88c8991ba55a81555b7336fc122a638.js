window.__tnt||(window.__tnt={});
(function(n,l,c,f,v){var g=f.ads||(f.ads={}),t=function(a){switch(a){case "slow":return 1E3;case "medium":return 500;case "fast":return 250;case "instant":return 0;default:return 500}},q=function(a){var e=new c.Deferred;switch(a.start_open){case "1":h(a,0);if("0"!==a.auto_limit)setTimeout(function(){h(a)},1E3*a.auto_limit);else c(a.positionDiv).find(".tnt-expandable-small").on("click",function(){h(a)});break;case "2":c(a.positionDiv).on("mouseover mouseout",function(){h(a)});break;case "3":h(a,0);
c(a.positionDiv).find(".tnt-expandable-small").addClass("click-to-close");if("0"!==a.auto_limit)setTimeout(function(){h(a)},1E3*a.auto_limit),c(a.positionDiv).on("mouseover mouseout",function(){h(a)});else if(c(a.positionDiv).find(".tnt-expandable-small").hasClass("click-to-close"))c(a.positionDiv).find(".tnt-expandable-small").on("click hover",function(){h(a)});break;default:c(a.positionDiv).find(".tnt-expandable-small").on("click",function(){h(a)})}e.resolve(a);return e.promise()},u=function(a){var e=
new c.Deferred;a.clickuri&&(c(a.positionDiv).find(".tnt-expandable-big img").wrap('<a href="'+a.clickuri+'"></a>'),0!=a.start_open&&c(a.positionDiv).find(".tnt-expandable-small img").wrap('<a href="'+a.clickuri+'"></a>'));e.resolve(a);return e.promise()},r=function(a){var e=new c.Deferred;c(a.positionDiv).css({position:"relative"});e.resolve(a);return e.promise()},h=function(a,e){var d=new c.Deferred,b=c(a.positionDiv).find(".tnt-expandable-big"),m=0===e?e:t(a.transition_speed);switch(a.overlay_content){case "0":b.addClass("noOverlay");
break;case "1":b.addClass("overlay")}switch(a.transition_direction){case "left":b.css({position:"absolute",top:0,"z-index":999,right:a.width}).stop().animate({width:"toggle"},m);break;case "right":b.css({position:"absolute",top:0,left:a.width,"z-index":999}).stop().animate({width:"toggle"},m);break;case "up":b.css({position:"absolute",bottom:a.height,left:0,"z-index":999}).stop().slideToggle(m);break;default:b.css({left:0,"z-index":999}).stop().slideToggle(m)}d.resolve(a);return d.promise()};g.video=
function(a){if("_popup"==a.region)return!1;if(a.embed)f.video||(f.video={}),f.video.blox||(f.video.blox={}),f.video.blox.ads||(f.video.blox.ads={postroll:[],preroll:[]}),"post"==a.rolltype?f.video.blox.ads.postroll.push(a):f.video.blox.ads.preroll.push(a);else{var e=function(){var d="video/mp4";null!=a.asseturl.match(/\.flv\?/)&&(d="video/x-flv");c(a.positionDiv).addClass("tnt-video-ad-wrapper").append('<video class="tnt-video-ad vjs-ad video-js vjs-default-skin vjs-big-play-centered video-responsive"><source src="'+
a.asseturl+'" type="'+d+'"/></video>').attr("data-videoclickuri",a.clickuri);a.autoplay=0<a.autoplay?!0:!1;a.volume/=100;videojs(c(a.positionDiv).find("video")[0],{preload:"auto",controls:!0,fluid:!0,autoplay:a.autoplay,volume:a.volume},function(){function b(){f.trackEvent({category:"tnt-video-ad",action:"standalone playing",label:"user watching: "+player.src(),value:"1"});player.on("click",function(a){0.2<player.currentTime()&&(f.trackEvent({category:"tnt-video-ad",action:"standalone clicked",label:"user clicked: "+
player.src(),value:"1"}),n.open(decodeURIComponent(c(a.target).parents(".tnt-video-ad-wrapper").attr("data-videoclickuri"))),player.trigger("ended"))});player.one("ended",function(a){player.off("click");player.currentTime(player.duration());f.trackEvent({category:"tnt-video-ad",action:"standalone ended",label:"user watched: "+player.src(),value:"1"});player.trigger("__tnt.video.standalone.initialize")})}player=this;player.hasStarted_&&b(a);player.on("__tnt.video.standalone.initialize",function(){player.one("play",
function(d){b(a)})});player.trigger("__tnt.video.standalone.initialize")})};c(function(){var a=c(".video-ad").attr("data-video-js"),b=c(".video-ad").attr("data-video-swf"),m=c(".video-ad").attr("data-video-js-css"),f=c(".video-ad").attr("data-video-blox-css");"undefined"==typeof videojs?c.getScript(a,function(a,d,g){videojs.options.flash.swf=b;c("body").append('<link rel="stylesheet" href="'+m+'" />').append('<link rel="stylesheet" href="'+f+'" />');e()}):(videojs.options.flash.swf=b,e())})}};g.expandable=
function(a){k(a,'<div class="tnt-expandable-small" style="cursor: pointer"><img src="'+a.smallImage+'"/></div>'+('<div class="tnt-expandable-big" style="display: none;"><img src="'+a.largeImage+'" /></div>')).then(r(a)).then(u(a)).then(q(a)).then()};g.flashcurl=function(a){if("undefined"!==typeof a.clickuri)var e=a.clickuri.replace(/"/g,"&quot;");var d;d='<div class="small-ad">'+('<object type="application/x-shockwave-flash" data="'+a.smallFlash+'">');d+='<param name="wmode" value="opaque" />';d+=
'<param name="movie" value="'+a.smallFlash+'" />';d+="</object>";d+="</div>";var b;b='<div class="large-ad">'+('<object type="application/x-shockwave-flash" data="'+a.largeFlash+'">');b+='<param name="wmode" value="opaque" />';b+='<param name="movie" value="'+a.largeFlash+'" />';b+="</object>";b+="</div>";k(a,a.clickuri?'<div class="hidden-sm hidden-xs page-curl page-curl-flash"><a target="_blank" href="'+e+'"><div class="cover"></div></a>'+d+b+'<div style="z-index: 997; display: block; background-color: #fff; top: 0px; right: 0px; position: absolute; height: 99%; width: 99%;"></div></div>':
'<div class="hidden-sm hidden-xs page-curl page-curl-flash"><div class="cover"></div>'+d+b+'<div style="z-index: 997; display: block; background-color: #fff; top: 0px; right: 0px; position: absolute; height: 99%; width: 99%;"></div></div>')};g.curl=function(a){if("undefined"!==typeof a.clickuri)var e=a.clickuri.replace(/"/g,"&quot;");var d='<div class="small-ad"><img src="'+a.smallImage+'"/></div>',b='<div class="large-ad"><img src="'+a.largeImage+'"/></div>';k(a,a.clickuri?'<div class="hidden-sm hidden-xs page-curl page-curl-image"><a target="_blank" href="'+
e+'"><div class="cover"></div></a>'+d+b+"</div>":'<div class="hidden-sm hidden-xs page-curl page-curl-image"><div class="cover"></div>'+d+b+"</div>")};g.html=function(a){a.width||(a.width=c(a.positionDiv).closest(".tncms-region-ads").prev().data("tnt-ads-tmp").width);k(a,a.html)};g.flash=function(a){var e=(c(a.positionDiv).width()<=a.width?c(a.positionDiv).width():a.width)/a.width,d=e*a.width,b=e*a.height,e="undefined"!==typeof a.clickuri[0]?"http://"+a.clickuri[0].replace(/"/g,"&quot;"):null,m="undefined"!==
typeof a.clickuri[1]?"http://"+a.clickuri[1].replace(/"/g,"&quot;"):null,d=""+('<object type="application/x-shockwave-flash" data="'+a.asseturl+'" width="'+d+'" height="'+b+'">');e&&!m?d+='<param name="flashvars" value="clickTAG='+encodeURIComponent(e)+'&clickTarget=_blank" />':e&&m&&(d+='<param name="flashvars" value="clickTAG='+encodeURIComponent(e)+"&clickTAG2="+encodeURIComponent(m)+'&clickTarget=_blank" />');d+='<param name="allowScriptAccess" value="always" /><param name="wmode" value="opaque" />';
d+='<param name="movie" value="'+a.asseturl+'" />';d+="</object>";k(a,d)};g.flashexpand=function(a){var e='<div style="width:'+a.width+"px; height:"+a.height+'px; " class="hidden-sm hidden-xs tnt-expandable-small" style="cursor: pointer"><object type="application/x-shockwave-flash" data="'+a.smallFlash+'" width="'+a.width+'" height="'+a.height+'"><param name="movie" value="'+a.asseturl+'" /><param name="wmode" value="opaque" /></object></div>',d='<div class="hidden-sm hidden-xs tnt-expandable-big" style="display: none;"><object type="application/x-shockwave-flash" data="'+
a.largeFlash+'" width="'+a.largewidth+'" height="'+a.largeheight+'"><param name="flashvars" value="clickTAG='+encodeURIComponent("http:"+a.clickuri)+'&clickTarget=_blank" /><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="movie" value="'+a.largeFlash+'" /></object></div>';k(a,e+d).then(r(a)).then(q(a)).then()};g.popup=function(a){function e(){l.getElementsByTagName("body")[0].removeChild(l.getElementById("blox-ad-position-_popup1"));l.getElementsByTagName("body")[0].removeChild(l.getElementById("BlackOutDiv"))}
var d=l.createElement("div");d.setAttribute("id","BlackOutDiv");d.style.position="fixed";d.style.top=0;d.style.left=0;d.style.width="100%";d.style.height="100%";d.style.zIndex=99998;d.style.backgroundColor="black";d.style.opacity=0.9;d.style.filter="alpha(opacity=90)";var b;b='<span><i class="fa fa-2x fa-close"></i></span>';if("video"==a.type){var c="video/mp4";null!=a.asseturl.match(/\.flv\?/)&&(c="video/x-flv");a.clickuri&&(b+='<a style="display: block; height: 100%; position: absolute; width: 100%;" target="_blank" href="'+
a.clickuri+'"></a>');b+='<video class="tnt-popup-video" autoplay><source src="'+a.asseturl+'" type="'+c+'"/></video>'}else if("text"==a.type){c=p(a);if("undefined"===typeof c||null===c)c="Advertisement";if(a.clickuri){var f=a.clickuri.replace(/"/g,"&quot;");b+='<div class="tnt-text-ad-container"><a href="'+f+'" target="'+a.target+'">'+a.title+"</a><br/>"+a.text+'<br/><span class="tnt-text-ad-flag">'+c+"</span></div>"}else b+='<div class="tnt-text-ad-container"><strong>'+a.title+"</strong><br/>"+a.text+
'<br/><span class="tnt-text-ad-flag">'+c+"</span></div>"}else"flash"==a.type?(c="undefined"!==typeof a.clickuri[0]?"http://"+a.clickuri[0].replace(/"/g,"&quot;"):null,f="undefined"!==typeof a.clickuri[1]?"http://"+a.clickuri[1].replace(/"/g,"&quot;"):null,b+='<object type="application/x-shockwave-flash" data="'+a.asseturl+'" width="'+a.width+'" height="'+a.height+'">',c&&!f?b+='<param name="flashvars" value="clickTAG='+encodeURIComponent(c)+'&clickTarget=_blank" />':c&&f&&(b+='<param name="flashvars" value="clickTAG='+
encodeURIComponent(c)+"&clickTAG2="+encodeURIComponent(f)+'&clickTarget=_blank" />'),b+='<param name="allowScriptAccess" value="always" /><param name="wmode" value="opaque" />',b+='<param name="movie" value="'+a.asseturl+'" />',b+="</object>"):"image"==a.type?("undefined"!==typeof a.clickuri&&(c="http://"+a.clickuri.replace(/"/g,"&quot;")),b+=""===a.clickuri?'<img class="img-responsive" width="'+a.width+'" height="'+a.height+'" src="'+a.asseturl+'">':'<a target="'+a.target+'" href="'+c+'"><img class="img-responsive" width="'+
a.width+'" height="'+a.height+'" src="'+a.asseturl+'"></a>'):"html"==a.type&&(b+='<div style="width: 100%; height: 100%; max-width:'+a.width+"px; max-height:"+a.height+'px;">',b+=a.html,b+="</div>");b+="</div>";"undefined"!=typeof d.addEventListener?d.addEventListener("click",e,!1):("BackCompat"==l.compatMode&&(d.style.width="110%",d.style.height="110%",d.style.position="absolute"),d.attachEvent("onclick",e));l.getElementsByTagName("body")[0].appendChild(d);TNCMS.AdManager.renderAd(a);k(a,b)};g.image=
function(a){if("undefined"!==typeof a.clickuri)var c=a.clickuri.replace(/"/g,"&quot;");if("wallpaper"==a.display){var d="",c="",b=a.height,f=l.getElementsByTagName("body")[0],d=d+(f.style.backgroundImage="url("+a.asseturl+")"),d=d+(f.style.height=b+"px"),d=d+(f.className+=" wallpaper-ad ");a.clickuri&&(c+='<a href="'+a.clickuri+'" target="'+a.target+'" style="width:100%; height: 100%; display:block"></a>')}else c="anchor"==a.display?""===a.clickuri?'<a href="#" class="close" data-dismiss="alert"><span class="fa fa-close"></span></a><img style="width: '+
a.width+'px; height: auto; " src="'+a.asseturl+'" />':'<a href="#" class="close" data-dismiss="alert"><span class="fa fa-close"></span></a><a href="'+c+'" target="'+a.target+'" style="display:block"><img style="width: '+a.width+'px; height: auto; " src="'+a.asseturl+'" /></a>':""===a.clickuri?'<img src="'+a.asseturl+'" style="width: 100%;" />':'<a href="'+c+'" target="'+a.target+'" style="display:block"><img src="'+a.asseturl+'" style="width: 100%;" /></a>';k(a,c,d)};g.text=function(a){a.width||(a.width=
c(a.positionDiv).closest(".tncms-region-ads").prev().data("tnt-ads-tmp").width);var e=p(a);if("undefined"===typeof e||null===e)e="Advertisement";e=a.clickuri?'<div class="tnt-text-ad-container"><a href="'+a.clickuri.replace(/"/g,"&quot;")+'" target="'+a.target+'">'+a.title+"</a><br/>"+a.text+'<br/><span class="tnt-text-ad-flag">'+e+"</span></div>":'<div class="tnt-text-ad-container"><strong>'+a.title+"</strong><br/>"+a.text+'<br/><span class="tnt-text-ad-flag">'+e+"</span></div>";k(a,e)};g._resize=
function(){var a,e=c(n).width();c(n).on("resize",function(){c(n).width()!=e&&(clearTimeout(a),a=setTimeout(function(){g._render()},500),e=c(n).width())})};g._render=function(){c("div[data-tnt-ads]").each(function(a,e){var d=-1<e.id.indexOf("-debug-")?c("#"+e.id.replace("-debug","")):c(this),b=c(this).data("tnt-ads"),d=d.width()>=b.width,f=320>=b.width&&320==c(n).width(),g=728>=b.width&&768==c(n).width(),h=c(this).is(":visible"),k="wallpaper"==b.display,l="popup"==b.display&&!1==s;if((d||f||g)&&h||
k||l)s=!0,"position"==b.type&&TNCMS.AdManager.render({region:b.region,slot:b.slot,fold:b.fold,width:b.width,display:b.display})})};var p=function(a){if(c(a.positionDiv).closest(".tncms-region-ads").prev().attr("data-tnt-ads-tmp"))var e=c(a.positionDiv).closest(".tncms-region-ads").prev().data("tnt-ads-tmp").overline;else c(a.positionDiv).attr("data-tnt-ads")&&(e=c(a.positionDiv).data("tnt-ads").overline);return e},k=function(a,e){var d=new c.Deferred,b="";"anchor"==a.display&&(b+=" tnt-ads-anchor  alert ");
"popup"==a.display&&(b+=" tnt-ads-popup ");b+="tnt-"+a.type+"-ad-wrapper";b=["tnt-ads",b].join(" ");"wallpaper"==a.display?(c("#wallpaper-left").empty().append(e),c("#wallpaper-right").empty().append(e)):"popup"==a.display?c(a.positionDiv).empty().removeAttr("style").removeClass().addClass(b).css({"max-width":a.width+"px","max-height":a.height+"px"}).append(e):(c(a.positionDiv).empty().removeAttr("style").removeClass().addClass(b).css({"max-width":a.width+"px"}).append(e),320==c(n).width()&&320>=
a.width&&a.width>c(a.positionDiv).width()&&(b=Math.round((c(a.positionDiv).width()-a.width)/2),c(a.positionDiv).css({margin:"0 "+b+"px"})));"text"!=a.type&&(b=p(a))&&1>c(a.positionDiv).siblings(".tnt-ads-overline").length&&(b='<div class="tnt-ads-overline">'+b+"</div>",c(a.positionDiv).before(b));d.resolve(a);return d.promise()},s=!1})(window,document,jQuery,__tnt);

jQuery.url=function(){var i={},n={},t={url:window.location,strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},u=function(){str=decodeURI(t.url);for(var r=t.parser[t.strictMode?"strict":"loose"].exec(str),n={},i=14;i--;)n[t.key[i]]=r[i]||"";return n[t.q.name]={},n[t.key[12]].replace(t.q.parser,function(i,r,u){r&&(n[t.q.name][r]=u)}),n},f=function(t){return(n.length||r(),t=="base")?n.port!==null&&n.port!==""?n.protocol+"://"+n.host+":"+n.port+"/":n.protocol+"://"+n.host+"/":n[t]===""?null:n[t]},e=function(t){return n.length||r(),n.queryKey[t]===null?null:n.queryKey[t]},r=function(){n=u();o()},o=function(){var t=n.path;i=[];i=n.path.length==1?{}:(t.charAt(t.length-1)=="/"?t.substring(1,t.length-1):path=t.substring(1)).split("/")};return{setMode:function(n){return strictMode=n=="strict"?!0:!1,this},setUrl:function(n){return t.url=n===undefined?window.location:n,r(),this},segment:function(t){return(n.length||r(),t===undefined)?i.length:i[t]===""||i[t]===undefined?null:i[t]},attr:f,param:e}}();;